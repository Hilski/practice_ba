# Модель данных подсистемы продавцов

В данной модели описаны основные сущности, необходимые для функционирования подсистемы продавцов маркетплейса.

Seller API - сервис

<a href="db.png" target="_blank">
  <img src="db.png" width="300"/>
</a>

[Открыть PUML-файл](https://github.com/Hilski/practice_ba/blob/main/data-model/db)

# Модель данных (табличное описание)

---

## Seller (Продавец)

| Поле                | Тип данных   | Описание                                      |
|---------------------|--------------|-----------------------------------------------|
| `id`                | UUID         | Уникальный идентификатор продавца             |
| `company_name`      | string       | Название компании                             |
| `inn`               | string       | ИНН                                           |
| `email`             | string       | Электронная почта                             |
| `phone`             | string       | Телефон                                       |
| `registration_status` | enum      | Статус регистрации: `pending`, `approved`, `rejected` |
| `created_at`        | datetime     | Дата создания записи                          |

---

## Product (Товар)

| Поле         | Тип данных | Описание                                           |
|--------------|------------|----------------------------------------------------|
| `id`         | UUID       | Уникальный идентификатор товара                   |
| `seller_id`  | UUID       | Внешний ключ на продавца                          |
| `name`       | string     | Название товара                                   |
| `description`| text       | Подробное описание                                |
| `price`      | decimal    | Цена                                              |
| `sku`        | string     | Уникальный артикул                                |
| `category_id`| UUID       | Категория товара                                  |
| `status`     | enum       | Статус: `draft`, `pending`, `approved`, `rejected`|
| `created_at` | datetime   | Дата добавления                                   |

---

## Category (Категория)

| Поле       | Тип данных | Описание                           |
|------------|------------|------------------------------------|
| `id`       | UUID       | Уникальный идентификатор категории |
| `name`     | string     | Название категории                 |
| `parent_id`| UUID       | Родительская категория (nullable)  |

---

## Inventory (Складской остаток)

| Поле               | Тип данных | Описание                                 |
|--------------------|------------|------------------------------------------|
| `id`               | UUID       | Уникальный идентификатор записи          |
| `product_id`       | UUID       | Внешний ключ на товар                    |
| `quantity`         | int        | Количество на складе                     |
| `warehouse_location`| string    | Расположение склада                      |
| `updated_at`       | datetime   | Дата последнего обновления               |

---

Order Service - сервис

<a href="db1.png" target="_blank">
  <img src="db.png" width="300"/>
</a>

[Открыть PUML-файл](https://github.com/Hilski/practice_ba/blob/main/data-model/db1)

# Модель данных (табличное описание)

---

## Buyer (Покупатель)

| Поле       | Тип данных | Описание                |
|------------|------------|-------------------------|
| `id`       | UUID       | Уникальный идентификатор|
| `full_name`| string     | Полное имя              |
| `email`    | string     | Почта                   |
| `phone`    | string     | Телефон                 |
| `address`  | string     | Адрес доставки          |

---

## Order (Заказ)

| Поле         | Тип данных | Описание                                |
|--------------|------------|-----------------------------------------|
| `id`         | UUID       | Уникальный идентификатор заказа         |
| `product_id` | UUID       | Заказанный товар                        |
| `buyer_id`   | UUID       | Идентификатор покупателя                |
| `quantity`   | int        | Количество                             |
| `status`     | enum       | Статус: `new`, `confirmed`, `shipped`, `delivered`, `canceled` |
| `ordered_at` | datetime   | Дата создания заказа                    |

---

Moderation Service - сервис

<a href="db2.png" target="_blank">
  <img src="db.png" width="300"/>
</a>

[Открыть PUML-файл](https://github.com/Hilski/practice_ba/blob/main/data-model/db2)

# Модель данных (табличное описание)

---

## ModerationLog (Модерация)

| Поле          | Тип данных | Описание                            |
|---------------|------------|-------------------------------------|
| `id`          | UUID       | Уникальный идентификатор записи модерации |
| `entity_type` | enum       | Тип сущности, над которой выполнялась модерация. Возможные значения: 'seller', 'product' |
| `entity_id`   | UUID       | ID сущности (продавца или товара), к которой относится модерация |
| `status`      | enum       | Результат модерации. Примеры значений: 'approved', 'rejected', 'needs_changes' |
| `reviewed_by` | UUID       | ID администратора, выполнившего модерацию |
| `reviewed_at` | datetime   | Дата и время выполнения модерации |
| `comments`    | string     | Комментарии администратора, например, причины отклонения или замечания |

---